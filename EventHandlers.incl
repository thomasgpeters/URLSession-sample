void local fn SayHello'~'1textlabel _textLabel, fn StringWithFormat(@"Hello, %@",fn NSUserName)end fnvoid local fn ToggleSecurity'~'1if (isSecurityOn)ButtonSetImage( _securityToggleBtn, toggleOff )elseButtonSetImage( _securityToggleBtn, toggleOn )end ifisSecurityOn = not isSecurityOnend fnvoid local fn DoToolbar( tag as long )//~NSLog(@"toolbar item %ld clicked", whichTag )select case ( tag )case _createProjectToolbarBtnToolbarItemSetBordered( _mainToolbar, _createProjectToolbarBtn, YES )ToolbarItemSetBordered( _mainToolbar, _createObjectToolbarBtn, NO )ToolbarItemSetBordered( _mainToolbar, _generateXibFilesToolbarBtn, NO )ToolbarItemSetEnabled( _mainToolbar, _createProjectToolbarBtn, YES )ToolbarItemSetEnabled( _mainToolbar, _createObjectToolbarBtn, NO )ToolbarItemSetEnabled( _mainToolbar, _createObjectToolbarBtn, YES )ViewSetHidden( _createProjectToolbarBtn, NO )ViewSetHidden( _createObjectToolbarBtn, YES )ViewSetHidden( _generateXibFilesToolbarBtn, YES )case _settingsToolbarBtnToolbarItemSetBordered( _mainToolbar, _settingsToolbarBtn, YES )' WindowBeginSheet( _window, _sheetWindow )end selectend fn// application events arrive herevoid local fn DoAppEvent( ev as long )'~'1select ( ev )case _appWillFinishLaunching// app is about to finish launching - build menu and windowfn UserLoginAPI(@"/api/authentication-User/login")// appServiceUser = @"u1"// appServicePasswd  = @"p"case _appShouldTerminateAfterLastWindowClosedAppEventSetBool( YES )// tell the runtime we can quitend selectend fn// menu events arrive herevoid local fn DoMenu( menuID as long, itemID as long )'~'1select ( menuID )case _mHelloselect ( itemID )case _iSayHello : fn SayHelloend selectend selectend fn// window and control events arrive herevoid local fn DoDialog( ev as long, tag as long )'~'1select ( ev )case _btnClickselect ( tag )case _pushBtn     				: fn SayHellocase _createProjectBtn   : 'fn BuildProjectCreateWindowcase _createProjectCreateBtn : 'fn BuildProjectMainWindowcase _myButton    				: fn GetAPIContent(@"/api/Customer/ALFKI/")case _xibButton 				: fn OpenXibFilecase _loginButton 				: fn UserLoginAPI(@"/api/authentication-User/login")case _securityToggleBtn 	: fn ToggleSecurityend selectcase _textFieldDidChangeselect ( tag )case _projectNameEdit	: 'fn ValidateRequiredValuescase _baseURLEdit 			: 'fn ValidateRequiredValuescase _authSermentEdit 	: 'fn ValidateRequiredValuesend selectcase _toolbarItemClickselect case ( tag )case _createProjectToolbarBtn      : fn DoToolbar( _createProjectToolbarBtn )case _createObjectToolbarBtn			 : fn DoToolbar( _createObjectToolbarBtn )case _generateXibFilesToolbarBtn   : fn DoToolbar( _generateXibFilesToolbarBtn )case _settingsToolbarBtn					 : fn DoToolbar( _settingsToolbarBtn )end select/*case _windowDidBecomeMainselect ( tag )case _projectCreateWindow : 'WindowClose( _welcomeWindow )case _projectMainWindow : 'WindowClose( _projectCreateWindow ) : ViewSetHidden( _objectDetailView, NO )end select*/case _windowWillClose : 'endend selectend fn